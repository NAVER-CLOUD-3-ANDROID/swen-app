# SWEN - AI News Audio Player

**AI 기반 뉴스 오디오 플레이어 앱**

Flutter로 개발된 AI 뉴스 스크립트와 오디오 재생 앱입니다. 사용자가 토픽을 검색하면 AI가 관련 뉴스를 생성하고 오디오로 재생해주는 혁신적인 뉴스 플랫폼입니다.

## 🎯 주요 기능

### 📰 AI 뉴스 생성
- **토픽 검색**: 사용자가 관심 있는 토픽을 검색
- **AI 스크립트 생성**: 검색된 토픽에 대한 AI 뉴스 스크립트 생성
- **오디오 변환**: 생성된 스크립트를 자연스러운 오디오로 변환

### 🎵 오디오 재생
- **실시간 오디오 재생**: 앱 내에서 AI 생성 오디오 직접 재생
- **진행률 표시**: 재생 시간과 슬라이더로 진행률 확인
- **재생 제어**: 재생/일시정지/정지 기능
- **자동 반복**: 오디오 완료 시 자동으로 다음 뉴스 재생

### 📱 사용자 인터페이스
- **스플래시 화면**: SWEN 로고와 로딩 인디케이터
- **메인 화면**: 
  - 상단: SWEN 로고
  - 검색: 토픽 검색 입력창
  - 중앙: 재생/정지/로딩 버튼
  - 하단: 오디오 플레이어, 추천 뉴스, 스크립트 토글
- **추천 뉴스**: 관련 뉴스 목록 표시 (최대 5개)
- **스크립트 보기**: 뉴스 스크립트 내용 (토글 가능)
- **링크 버튼**: 원본 뉴스 링크로 이동

### 🔗 웹뷰 통합
- **뉴스 링크**: 추천 뉴스 클릭 시 웹뷰로 원본 기사 열기
- **스크립트 링크**: 스크립트 관련 원본 링크로 이동
- **URL 정규화**: HTTP/HTTPS 링크 자동 처리

## 📱 지원 플랫폼

- ✅ Android (에뮬레이터/실기기)
- ✅ iOS (시뮬레이터/실기기)
- ❌ Web (현재 모바일 전용)

## 🛠 기술 스택

- **Flutter**: 3.2.3+
- **Dart**: 3.2.3+
- **audioplayers**: 5.2.1 (오디오 재생)
- **http**: 1.1.0 (API 통신)
- **webview_flutter**: 4.4.2 (웹뷰)
- **url_launcher**: 6.2.4 (URL 처리)
- **just_audio**: 0.10.4 (오디오 플레이어)

## 🚀 시작하기

### 1. 프로젝트 클론
```bash
git clone <repository-url>
cd swen_flutter
```

### 2. 의존성 설치
```bash
flutter pub get
```

### 3. 앱 아이콘 생성 (선택사항)
```bash
flutter pub run flutter_launcher_icons:main
```

### 4. 앱 실행
```bash
# Android 에뮬레이터
flutter run

# iOS 시뮬레이터
flutter run -d ios

# 특정 디바이스
flutter run -d <device-id>
```

## 🔧 설정

### API 서버 설정
- **Android 에뮬레이터**: `http://10.0.2.2:8080/api/v1/news/play`
- **iOS 시뮬레이터**: `http://localhost:8080/api/v1/news/play`
- **실기기**: 실제 서버 IP 주소 사용

### API 응답 형식
```json
{
  "status": 200,
  "data": {
    "script": "AI 생성 뉴스 스크립트 내용...",
    "audioUrl": "https://example.com/ai-generated-audio.mp3",
    "recommendedNews": [
      {
        "title": "추천 뉴스 제목 1",
        "url": "https://example.com/news1"
      },
      {
        "title": "추천 뉴스 제목 2", 
        "url": "https://example.com/news2"
      }
    ],
    "sourceNews": "https://example.com/original-news"
  }
}
```

## 📁 프로젝트 구조

```
lib/
├── main.dart                    # 앱 진입점 및 메인 UI
├── services/
│   └── api_service.dart         # API 통신 서비스
├── utils/
│   └── error_handler.dart       # 오류 처리 및 URL 검증
└── assets/
    └── images/
        └── swen_logo.png        # SWEN 로고

android/
└── app/
    └── src/
        └── main/
            └── res/
                └── mipmap-*/    # 앱 아이콘 (자동 생성)
```

## 🎨 UI 구성

### 1. 스플래시 화면
- SWEN 로고 (좌상단)
- 로딩 인디케이터

### 2. 메인 화면
- **상단**: SWEN 로고 (조정 가능한 크기와 위치)
- **검색 영역**: "토픽을 검색하세요" 힌트 텍스트
- **중앙**: 재생/정지/로딩 버튼
- **스크립트 버튼**: 스크립트 보기 + 링크 버튼 (파란색 원형)
- **오디오 플레이어**: 재생/일시정지, 진행률, 시간 표시
- **추천 뉴스**: 스크롤 가능한 목록 (최대 5개, 작은 폰트)
- **스크립트**: 뉴스 스크립트 내용 (토글 가능)

### 3. 웹뷰 화면
- 추천 뉴스 클릭 시 원본 기사 표시
- 스크립트 링크 클릭 시 관련 페이지 표시

## 🔍 주요 클래스

### ApiService
- `fetchNewsData()`: API에서 뉴스 데이터 가져오기
- `_extractData()`: 응답에서 스크립트, 오디오 URL, 추천 뉴스 추출
- 오류 처리 및 테스트 데이터 대체

### ErrorHandler
- `isValidUrl()`: URL 유효성 검사
- `normalizeUrl()`: HTTP/HTTPS 스키마 자동 추가

### MainApp (main.dart)
- 메인 UI 상태 관리
- 오디오 재생 제어
- 웹뷰 네비게이션
- 검색 기능

## 🎵 사용법

### 1. 앱 실행
- 스플래시 화면에서 SWEN 로고 확인
- 메인 화면으로 자동 이동

### 2. 토픽 검색
- 검색창에 관심 있는 토픽 입력
- 예: "인공지능", "기후변화", "스포츠" 등

### 3. AI 뉴스 생성
- 검색 후 AI가 관련 뉴스 스크립트 생성
- 생성된 스크립트를 오디오로 변환

### 4. 오디오 재생
- 재생 버튼으로 AI 생성 오디오 재생
- 진행률 슬라이더로 원하는 구간 이동
- 일시정지/정지 버튼으로 재생 제어

### 5. 추가 기능
- **스크립트 보기**: "스크립트 보기" 버튼으로 텍스트 확인
- **링크 버튼**: 원본 뉴스 링크로 이동
- **추천 뉴스**: 관련 뉴스 클릭 시 웹뷰로 열기

## 🐛 문제 해결

### 오디오가 재생되지 않는 경우
1. API 서버가 실행 중인지 확인
2. 오디오 URL이 유효한지 확인
3. 네트워크 연결 상태 확인
4. 디바이스 볼륨 설정 확인

### 검색이 작동하지 않는 경우
1. 키보드 입력이 정상적인지 확인
2. 한국어 입력 지원 확인
3. API 서버 응답 확인

### 웹뷰가 열리지 않는 경우
1. URL 형식 확인 (HTTP/HTTPS)
2. 인터넷 연결 상태 확인
3. 앱 권한 설정 확인

### 앱 아이콘이 변경되지 않는 경우
1. `flutter clean` 실행
2. `flutter pub run flutter_launcher_icons:main` 실행
3. 앱 재설치 또는 디바이스 재부팅

## 🎨 디자인 특징

- **모던한 UI**: 깔끔하고 직관적인 디자인
- **반응형 레이아웃**: 다양한 화면 크기에 대응
- **일관된 색상**: 파란색 계열의 통일된 색상 사용
- **사용자 친화적**: 큰 버튼과 명확한 상태 표시
- **접근성**: 읽기 쉬운 폰트와 적절한 크기

## 📝 업데이트 내역

### v1.0.0
- ✅ AI 뉴스 생성 및 오디오 재생
- ✅ 토픽 검색 기능
- ✅ 추천 뉴스 표시
- ✅ 웹뷰 통합
- ✅ 스크립트 보기 기능
- ✅ 앱 아이콘 적용
- ✅ URL 정규화
- ✅ 오류 처리 개선

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

---

**앱 이름**: SWEN - AI News Audio Player  
**버전**: 1.0.0  
**개발**: Flutter + AI 기술  
**목적**: AI 기반 개인화 뉴스 경험 제공
