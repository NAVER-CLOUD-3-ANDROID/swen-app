import 'dart:async';
import 'package:flutter/material.dart';

/// ë¡œë”© ë©”ì‹œì§€ ê´€ë ¨ ìƒìˆ˜ì™€ í•¨ìˆ˜ë“¤ì„ ë‹´ì€ í´ë˜ìŠ¤
class LoadingMessages {
  /// ì¬ë¯¸ìˆëŠ” ë¡œë”© ë©”ì‹œì§€ë“¤
  static const List<String> messages = [
    'ğŸššğŸ“¦ ë”°ëˆí•œ ë‰´ìŠ¤, ìŒì„±ìœ¼ë¡œ ì“±ì‹¹ ë°°ì†¡ ì¤‘...',
    'ğŸ“°ğŸ¥– ì˜¤ëŠ˜ì˜ ë‰´ìŠ¤ë¹µ, ìŒì„±ìœ¼ë¡œ ê°“ êµ¬ì›Œì„œ ì¶œë°œ!',
    'ğŸššğŸ§ ì´ì–´í° ì¼œì„¸ìš”, ìŒì„± ë‰´ìŠ¤ ê³§ ë„ì°©í•©ë‹ˆë‹¤!',
    'ğŸ“¬ğŸ”ˆ ìŒì„±ìœ¼ë¡œ ë¬¸ ì•ê¹Œì§€ ë‰´ìŠ¤ ë°°ë‹¬ ì¤‘!',
    'ğŸš›ğŸ“ƒ ì‹ ë¬¸ ê¾¸ëŸ¬ë¯¸, ìŒì„±ìœ¼ë¡œ ì•ˆì „ ì´ì†¡ ì¤‘!',
    'ğŸ“¦ğŸ™ï¸ ì˜¤ëŠ˜ ë‰´ìŠ¤, ìŒì„±ìœ¼ë¡œ ì°°ë–¡í¬ì¥ ì™„ë£Œ!',
    'ğŸššğŸ”Š ìŠ¤í”¼ì»¤ ON! ìŒì„± ë‰´ìŠ¤ íƒë°° ì˜¤ëŠ” ì¤‘!',
    'ğŸ“¬ğŸšš ë¬¸ ì•ì— ìŒì„± ë‰´ìŠ¤ ìƒì ë„ì°© ì˜ˆì •!',
    'ğŸ—ï¸ğŸ“¦ ì‹ ë¬¸ ëŒ€ì‹  ìŒì„±ìœ¼ë¡œ ì˜¤ëŠ˜ ì†Œì‹ ì „ë‹¬!',
    'ğŸ§ğŸšš ì´ì–´í°ìœ¼ë¡œ ë“£ëŠ” ë‰´ìŠ¤, ë°°ë‹¬ ì¤‘ì…ë‹ˆë‹¤!',
    'ğŸ“¦ğŸ“° ì˜¤ëŠ˜ í—¤ë“œë¼ì¸, ìŒì„± ë°•ìŠ¤ë¡œ í¬ì¥ ì™„ë£Œ!',
    'ğŸš›ğŸ”Š ì„¸ìƒ ë‰´ìŠ¤, ìŒì„± íƒë°°ë¡œ ì“±ì“± ì´ë™ ì¤‘!',
    'ğŸ“¬ğŸ™ï¸ ìŒì„± ë‰´ìŠ¤ ìƒì, ë²¨ ëˆ„ë¥´ê¸° ì§ì „!',
    'ğŸ“¦ğŸ§ ë”°ëˆë”°ëˆ ë‰´ìŠ¤, ìŒì„±ìœ¼ë¡œ ë¬¸ ì•ê¹Œì§€!',
    'ğŸššğŸ”ˆ ê·€ ëŒ€ì‹  ìŒì„±ìœ¼ë¡œ ì†Œì‹ ì™ì™ ë°°ë‹¬!',
    'ğŸ“¬ğŸ“° ì‹ ë¬¸ ëŒ€ì‹  ìŒì„± ë‰´ìŠ¤ê°€ ì°¾ì•„ê°‘ë‹ˆë‹¤!',
    'ğŸššğŸ™ï¸ ìŠ¤í”¼ì»¤ ì¼œì„¸ìš”, ìŒì„± ë‰´ìŠ¤ ë„ì°© 1ë¶„ ì „!',
    'ğŸ“¦ğŸ”Š ìµœì‹  ë‰´ìŠ¤, ìŒì„±ìœ¼ë¡œ ë°”ë¡œ ë“œë¦½ë‹ˆë‹¤!',
    'ğŸš›ğŸ§ í—¤ë“œí° ì¤€ë¹„! ìŒì„± ë‰´ìŠ¤ íƒë°° ì¶œë°œ!',
    'ğŸ“¬ğŸ¥ ë”°ëˆí•œ ë‰´ìŠ¤ë¹µ, ìŒì„±ìœ¼ë¡œ ê°“ ë°°ë‹¬ ì¤‘!',
    'ğŸššğŸ“¦ ì˜¤ëŠ˜ì˜ ë‰´ìŠ¤, ìŒì„±ìœ¼ë¡œ ì•ˆì „ë°°ì†¡ ì¤‘â€¦',
    'ğŸ“°âœˆï¸ ë”°ëˆë”°ëˆ ìŒì„± ë‰´ìŠ¤, ë¹„í–‰ê¸°ë¡œ ì¶œë°œ!',
    'ğŸššğŸ—ï¸ ì†Œì‹ ìƒì, ìŒì„±ìœ¼ë¡œ ì „ì†¡ ì¤‘!',
    'ğŸ“®âœ¨ ìŒì„±ìœ¼ë¡œ ë°°ë‹¬ë˜ëŠ” ì˜¤ëŠ˜ì˜ ë‰´ìŠ¤!',
    'ğŸš›ğŸ”” ì„¸ìƒ ì†Œì‹, ìŒì„±ìœ¼ë¡œ ê³§ ë„ì°©!',
    'ğŸššğŸ“¡ ìµœì‹  ë‰´ìŠ¤, ìŒì„± ì‹¤ì‹œê°„ ë°°ì†¡ ì¤‘â€¦',
    'ğŸ“¨ğŸš› ì˜¤ëŠ˜ì˜ í—¤ë“œë¼ì¸, ìŒì„±ìœ¼ë¡œ ë¬¸ ì•ê¹Œì§€!',
    'ğŸ“¦ğŸš¦ ìŒì„± ë‰´ìŠ¤ íŠ¸ëŸ­, ì‹ í˜¸ ëŒ€ê¸° ì¤‘â€¦',
    'ğŸ ğŸ“¬ ìŒì„±ìœ¼ë¡œ ë‰´ìŠ¤ê°€ ë¬¸ì„ ë‘ë“œë ¤ìš”!',
    'ğŸššğŸ§ ë‘ ëŒ€ë¡œ ë‹¬ë ¤ìš”! ìŒì„± ë‰´ìŠ¤ ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë ¤ìš”!',
    'ğŸ“¦ğŸ”Š ë”°ëˆí•œ ë‰´ìŠ¤, ìŒì„±ìœ¼ë¡œ í¬ì¥ ì™„ë£Œ!',
    'ğŸ“°ğŸšš ìŒì„± ë‰´ìŠ¤ ê¾¸ëŸ¬ë¯¸ ì¶œë°œ ì¤€ë¹„ ì¤‘â€¦',
    'ğŸ“¦ğŸ§ ìŒì„± ë‰´ìŠ¤ íƒë°°ê°€ ê³§ ë„ì°©í•©ë‹ˆë‹¤!',
    'ğŸš›ğŸ“ƒ ì˜¤ëŠ˜ ë‰´ìŠ¤, ìŒì„±ìœ¼ë¡œ ë°”ë¡œ ì—°ê²° ì¤‘!',
    'ğŸ“¬ğŸ”ˆ í—¤ë“œë¼ì¸, ìŒì„±ìœ¼ë¡œ ê³§ ë„ì°© ì˜ˆì •!',
    'ğŸ—ï¸ğŸ“¦ ì˜¤ëŠ˜ ì†Œì‹, ìŒì„± íƒë°°ë¡œ ì´ë™ ì¤‘!',
    'ğŸššğŸ”Š ìŒì„± ë‰´ìŠ¤ íŠ¸ëŸ­ ê°€ë“ ì‹£ê³  ë‹¬ë¦¬ëŠ” ì¤‘!',
    'ğŸ“¦ğŸ™ï¸ ë”°ëˆë”°ëˆ ìŒì„± ë‰´ìŠ¤, ì•ˆì „ë°°ì†¡ ì¤‘â€¦',
    'ğŸš›ğŸ“¬ ì†Œì‹ ë°•ìŠ¤, ìŒì„±ìœ¼ë¡œ ë„ì–´ë²¨ ëˆ„ë¥´ëŠ” ì¤‘!',
    'ğŸ§ğŸšš ì´ì–´í° ì±™ê¸°ì…¨ë‚˜ìš”? ìŒì„± ë‰´ìŠ¤ ë°°ë‹¬ ì¤‘!',
  ];

}

/// ë¡œë”© ë©”ì‹œì§€ ì• ë‹ˆë©”ì´ì…˜ ê´€ë¦¬ í´ë˜ìŠ¤
class LoadingAnimationController {
  Timer? _timer;
  int _currentIndex = 0;
  final VoidCallback? onMessageChanged;

  LoadingAnimationController({this.onMessageChanged});

  /// í˜„ì¬ ë©”ì‹œì§€ ì¸ë±ìŠ¤
  int get currentIndex => _currentIndex;

  /// í˜„ì¬ ë©”ì‹œì§€
  String get currentMessage => LoadingMessages.messages[_currentIndex];

  /// ë¡œë”© ë©”ì‹œì§€ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
  void start() {
    if (_timer != null) return; // ì´ë¯¸ ì‹¤í–‰ ì¤‘ì´ë©´ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
    _currentIndex = 0;
    _timer = Timer.periodic(const Duration(seconds: 3), (timer) {
      _currentIndex = (_currentIndex + 1) % LoadingMessages.messages.length;
      onMessageChanged?.call();
    });
  }

  /// ë¡œë”© ë©”ì‹œì§€ ì• ë‹ˆë©”ì´ì…˜ ì •ì§€
  void stop() {
    _timer?.cancel();
    _timer = null;
  }

  /// ë¦¬ì†ŒìŠ¤ í•´ì œ
  void dispose() {
    stop();
  }
} 